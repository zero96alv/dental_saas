<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶∑ Odontograma Anat√≥mico Correcto - Prueba</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            padding: 20px 0;
        }

        .container-principal {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .titulo-principal {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            text-align: center;
            margin-bottom: 20px;
            font-size: 2.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .panel-control {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .selector-diagnostico {
            background: #fff;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .selector-diagnostico:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
            outline: 0;
        }

        .btn-diagnostico {
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 600;
            margin: 5px;
            border: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-diagnostico::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s ease, height 0.3s ease;
        }

        .btn-diagnostico:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-sano { background: linear-gradient(45deg, #28a745, #20c997); color: white; }
        .btn-caries { background: linear-gradient(45deg, #dc3545, #e83e8c); color: white; }
        .btn-obturada { background: linear-gradient(45deg, #ffc107, #fd7e14); color: white; }
        .btn-corona { background: linear-gradient(45deg, #007bff, #6610f2); color: white; }
        .btn-extraida { background: linear-gradient(45deg, #6c757d, #495057); color: white; }
        .btn-implante { background: linear-gradient(45deg, #17a2b8, #20c997); color: white; }
        .btn-endodoncia { background: linear-gradient(45deg, #e83e8c, #6610f2); color: white; }
        .btn-limpiar { background: linear-gradient(45deg, #f8f9fa, #e9ecef); color: #495057; border: 2px solid #dee2e6; }

        .info-diente {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #667eea;
        }

        .log-container {
            background: #1e1e1e;
            color: #00ff00;
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .caracteristicas-anatomicas {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .badge-anatomico {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 2px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="container-principal">
            <h1 class="titulo-principal">ü¶∑ Odontograma Anat√≥mico Correcto</h1>
            <p class="text-center text-muted mb-4">
                Arcadas en semielipse con morfolog√≠a dental realista y espaciado interproximal
            </p>

            <!-- Panel de Control -->
            <div class="panel-control">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label class="form-label fw-bold">üéØ Tipo de Odontograma:</label>
                        <select id="selector-odontograma" class="form-select selector-diagnostico">
                            <option value="anatomico-correcto" selected>Anat√≥mico Correcto (Semielipse)</option>
                        </select>
                    </div>
                    <div class="col-md-8">
                        <label class="form-label fw-bold">ü©∫ Diagn√≥sticos Disponibles:</label>
                        <div class="d-flex flex-wrap">
                            <button class="btn btn-diagnostico btn-sano" data-diagnostico="sano">
                                ‚úÖ Sano
                            </button>
                            <button class="btn btn-diagnostico btn-caries" data-diagnostico="caries">
                                ü¶† Caries
                            </button>
                            <button class="btn btn-diagnostico btn-obturada" data-diagnostico="obturada">
                                ‚≠ê Obturada
                            </button>
                            <button class="btn btn-diagnostico btn-corona" data-diagnostico="corona">
                                üëë Corona
                            </button>
                            <button class="btn btn-diagnostico btn-extraida" data-diagnostico="extraida">
                                ‚ùå Extra√≠da
                            </button>
                            <button class="btn btn-diagnostico btn-implante" data-diagnostico="implante">
                                üîß Implante
                            </button>
                            <button class="btn btn-diagnostico btn-endodoncia" data-diagnostico="endodoncia">
                                üíâ Endodoncia
                            </button>
                            <button class="btn btn-diagnostico btn-limpiar" id="btn-limpiar">
                                üßπ Limpiar Todo
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Informaci√≥n del Diente Seleccionado -->
            <div id="info-diente-panel" class="info-diente mb-4" style="display: none;">
                <h5 class="mb-3">üìã Informaci√≥n del Diente Seleccionado</h5>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>N√∫mero FDI:</strong> <span id="info-numero-fdi">-</span></p>
                        <p><strong>Cuadrante:</strong> <span id="info-cuadrante">-</span></p>
                        <p><strong>Posici√≥n:</strong> <span id="info-posicion">-</span></p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Tipo de Diente:</strong> <span id="info-tipo-diente">-</span></p>
                        <p><strong>Morfolog√≠a:</strong> <span id="info-morfologia">-</span></p>
                    </div>
                </div>
                <div class="caracteristicas-anatomicas">
                    <h6>üî¨ Caracter√≠sticas Anat√≥micas:</h6>
                    <div id="caracteristicas-badges"></div>
                </div>
            </div>

            <!-- Odontograma Container -->
            <div id="odontograma-container">
                <!-- Se cargar√° din√°micamente el odontograma seleccionado -->
            </div>

            <!-- Log de Actividad -->
            <div class="log-container" id="log-actividad">
                <div>üìä Log de Actividad del Odontograma:</div>
                <div>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</div>
                <div>üöÄ Sistema iniciado - Esperando interacciones...</div>
            </div>
        </div>
    </div>

    <!-- Incluir el odontograma anat√≥mico correcto -->
    <div id="odontograma-anatomico-correcto-template" style="display: none;">
        {% load math_filters %}
<div id="odontograma-anatomico-correcto" class="odontograma-anatomico-correcto">
    <style>
        .odontograma-anatomico-correcto {
            max-width: 1400px;
            margin: 0 auto;
            padding: 25px;
            font-family: 'Arial', sans-serif;
            background: #f8f6f0;
            border-radius: 20px;
            box-shadow: 0 8px 35px rgba(0,0,0,0.12);
        }
        
        .odontograma-anatomico-correcto svg {
            width: 100%;
            height: auto;
            background: #f8f6f0;
            border-radius: 15px;
        }
        
        /* Arcadas en forma de semielipse realistas */
        .arcada-superior {
            fill: url(#gradientArcadaSuperior);
            opacity: 0.85;
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.1));
        }
        
        .arcada-inferior {
            fill: url(#gradientArcadaInferior);
            opacity: 0.85;
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.1));
        }
        
        /* L√≠neas de divisi√≥n */
        .linea-central {
            stroke: #2c3e50;
            stroke-width: 3;
            opacity: 0.8;
        }
        
        .linea-horizontal {
            stroke: #2c3e50;
            stroke-width: 2.5;
            opacity: 0.7;
        }
        
        /* Dientes con morfolog√≠a realista */
        .diente-correcto {
            cursor: pointer;
            transition: all 0.3s ease;
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.15));
        }
        
        .diente-correcto:hover {
            filter: drop-shadow(0 0 12px rgba(52, 152, 219, 0.9)) drop-shadow(0 2px 6px rgba(0,0,0,0.15));
            transform: scale(1.05);
        }
        
        .diente-correcto.selected {
            filter: drop-shadow(0 0 20px rgba(241, 196, 15, 1)) drop-shadow(0 2px 6px rgba(0,0,0,0.15));
            transform: scale(1.07);
        }
        
        /* Superficie oclusal base */
        .superficie-oclusal {
            fill: url(#gradientDienteBase);
            stroke: #8b7355;
            stroke-width: 1.5;
        }
        
        /* MORFOLOG√çA ESPEC√çFICA POR TIPO DE DIENTE */
        
        /* INCISIVOS CENTRALES - Forma cincelada aplanada */
        .incisivo-central .superficie-oclusal {
            fill: url(#gradientIncisivoCentral);
        }
        
        /* INCISIVOS LATERALES - M√°s peque√±os y estrechos */
        .incisivo-lateral .superficie-oclusal {
            fill: url(#gradientIncisivoLateral);
        }
        
        /* CANINOS - Forma triangular puntiaguda */
        .canino .superficie-oclusal {
            fill: url(#gradientCanino);
        }
        
        /* PREMOLARES - Forma ovalada con c√∫spides */
        .premolar .superficie-oclusal {
            fill: url(#gradientPremolar);
        }
        
        /* MOLARES - Forma cuadrada/redondeada, mayor volumen */
        .molar .superficie-oclusal {
            fill: url(#gradientMolar);
        }
        
        /* L√≠neas anat√≥micas internas */
        .cuspide-anatomica {
            stroke: #a68b5b;
            stroke-width: 1.2;
            opacity: 0.8;
            fill: none;
        }
        
        .fisura-oclusal {
            stroke: #8b7355;
            stroke-width: 1.5;
            opacity: 0.9;
            fill: none;
        }
        
        /* Estados de diagn√≥stico */
        .diente-correcto.sano .superficie-oclusal { fill: url(#gradientSano); }
        .diente-correcto.caries .superficie-oclusal { fill: url(#gradientCaries); }
        .diente-correcto.obturada .superficie-oclusal { fill: url(#gradientObturada); }
        .diente-correcto.corona .superficie-oclusal { fill: url(#gradientCorona); }
        .diente-correcto.extraida .superficie-oclusal { 
            fill: url(#gradientExtraida); 
            stroke-dasharray: 5,3;
            opacity: 0.4;
        }
        .diente-correcto.implante .superficie-oclusal { fill: url(#gradientImplante); }
        .diente-correcto.endodoncia .superficie-oclusal { fill: url(#gradientEndodoncia); }
        
        /* Numeraci√≥n FDI */
        .numero-fdi {
            font-family: 'Arial', sans-serif;
            font-size: 11px;
            font-weight: bold;
            fill: #2c3e50;
            text-anchor: middle;
            dominant-baseline: central;
            pointer-events: none;
            filter: drop-shadow(0 1px 1px rgba(255,255,255,0.8));
        }
        
        /* Etiquetas direccionales */
        .etiqueta-direccional {
            font-family: 'Arial', sans-serif;
            font-size: 18px;
            font-weight: bold;
            fill: #2c3e50;
            text-anchor: middle;
            filter: drop-shadow(0 1px 2px rgba(255,255,255,0.5));
        }
        
        .etiqueta-lateral {
            font-family: 'Arial', sans-serif;
            font-size: 14px;
            font-weight: 600;
            fill: #34495e;
            text-anchor: middle;
            filter: drop-shadow(0 1px 1px rgba(255,255,255,0.3));
        }
    </style>
    
    <div class="text-center mb-4">
        <h4 style="color: #2c3e50; margin-bottom: 10px; font-weight: 800; text-shadow: 0 1px 2px rgba(255,255,255,0.5);">
            ü¶∑ Odontograma Anat√≥mico Correcto
        </h4>
        <p style="color: #34495e; font-size: 1rem; text-shadow: 0 1px 1px rgba(255,255,255,0.3);">
            Arcadas en semielipse con morfolog√≠a dental realista y espaciado interproximal
        </p>
    </div>
    
    <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
        <!-- Definir gradientes realistas -->
        <defs>
            <!-- Gradientes para arcadas -->
            <radialGradient id="gradientArcadaSuperior" cx="50%" cy="20%" r="80%">
                <stop offset="0%" style="stop-color:#f4d4c1;stop-opacity:1" />
                <stop offset="40%" style="stop-color:#e8c2a9;stop-opacity:1" />
                <stop offset="80%" style="stop-color:#d4a574;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#c19660;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientArcadaInferior" cx="50%" cy="80%" r="80%">
                <stop offset="0%" style="stop-color:#f4d4c1;stop-opacity:1" />
                <stop offset="40%" style="stop-color:#e8c2a9;stop-opacity:1" />
                <stop offset="80%" style="stop-color:#d4a574;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#c19660;stop-opacity:1" />
            </radialGradient>
            
            <!-- Gradiente base para dientes -->
            <radialGradient id="gradientDienteBase" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#faf8f4;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#f5f1ea;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#e8ddd0;stop-opacity:1" />
            </radialGradient>
            
            <!-- Gradientes espec√≠ficos por morfolog√≠a dental -->
            <radialGradient id="gradientIncisivoCentral" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#fcfaf7;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#f7f3ec;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#eadfd2;stop-opacity:1" />
            </radialGradient>
            
            <radialGradient id="gradientIncisivoLateral" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#fbf9f5;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#f6f2ea;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#e9ddd0;stop-opacity:1" />
            </radialGradient>
            
            <radialGradient id="gradientCanino" cx="50%" cy="20%" r="80%">
                <stop offset="0%" style="stop-color:#fcfaf6;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#f7f3eb;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#eadfd1;stop-opacity:1" />
            </radialGradient>
            
            <radialGradient id="gradientPremolar" cx="40%" cy="40%" r="70%">
                <stop offset="0%" style="stop-color:#faf8f3;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#f5f1e8;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#e8dccf;stop-opacity:1" />
            </radialGradient>
            
            <radialGradient id="gradientMolar" cx="40%" cy="40%" r="70%">
                <stop offset="0%" style="stop-color:#f9f6f1;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#f3efe6;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#e6dacc;stop-opacity:1" />
            </radialGradient>
            
            <!-- Gradientes para diagn√≥sticos -->
            <radialGradient id="gradientSano" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#5dce7a;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#27ae60;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientCaries" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#e74c3c;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientObturada" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#ffcd3c;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#f39c12;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientCorona" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#5dade2;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#3498db;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientExtraida" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#a6a6a6;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#7f8c8d;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientImplante" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#58d8c9;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#1abc9c;stop-opacity:1" />
            </radialGradient>
            <radialGradient id="gradientEndodoncia" cx="30%" cy="30%" r="70%">
                <stop offset="0%" style="stop-color:#ff5ac4;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#e91e63;stop-opacity:1" />
            </radialGradient>
        </defs>
        
        <!-- Fondo principal -->
        <rect width="1200" height="800" fill="#f8f6f0"/>
        
        <!-- ==================== ARCADAS EN SEMIELIPSE ==================== -->
        
        <!-- ARCADA SUPERIOR (MAXILAR) - Forma de semielipse amplia -->
        <ellipse cx="600" cy="250" rx="420" ry="130" class="arcada-superior"/>
        
        <!-- ARCADA INFERIOR (MANDIBULAR) - M√°s estrecha, encaja por dentro -->
        <ellipse cx="600" cy="550" rx="380" ry="120" class="arcada-inferior"/>
        
        <!-- L√≠neas de divisi√≥n -->
        <line x1="600" y1="80" x2="600" y2="720" class="linea-central"/>
        <line x1="100" y1="400" x2="1100" y2="400" class="linea-horizontal"/>
        
        <!-- Etiquetas direccionales -->
        <text x="600" y="60" class="etiqueta-direccional">Superior</text>
        <text x="600" y="760" class="etiqueta-direccional">Inferior</text>
        <text x="120" y="405" class="etiqueta-lateral">Derecha</text>
        <text x="1080" y="405" class="etiqueta-lateral">Izquierda</text>
        <text x="120" y="425" class="etiqueta-lateral">Paciente</text>
        <text x="1080" y="425" class="etiqueta-lateral">Paciente</text>
        
        <!-- ==================== DIENTES SUPERIORES CON MORFOLOG√çA CORRECTA ==================== -->
        
        <!-- CUADRANTE SUPERIOR DERECHO (18-11) -->
        
        <!-- Diente 18 - Tercer Molar Superior (Ligeramente m√°s peque√±o) -->
        <g class="diente-correcto molar" id="diente-18">
            <ellipse cx="225" cy="230" rx="20" ry="18" class="superficie-oclusal"/>
            <path d="M 210 220 Q 215 215 220 220 Q 225 215 230 220 Q 235 215 240 220" class="cuspide-anatomica"/>
            <path d="M 210 230 Q 215 225 220 230 Q 225 225 230 230 Q 235 225 240 230" class="cuspide-anatomica"/>
            <path d="M 210 240 Q 215 235 220 240 Q 225 235 230 240 Q 235 235 240 240" class="cuspide-anatomica"/>
            <line x1="215" y1="218" x2="215" y2="242" class="fisura-oclusal"/>
            <line x1="225" y1="218" x2="225" y2="242" class="fisura-oclusal"/>
            <line x1="235" y1="218" x2="235" y2="242" class="fisura-oclusal"/>
            <text x="225" y="230" class="numero-fdi">18</text>
        </g>
        
        <!-- Diente 17 - Segundo Molar Superior (Molar grande) -->
        <g class="diente-correcto molar" id="diente-17">
            <path d="M 270 210 Q 280 190 300 190 Q 320 190 330 210 Q 330 230 320 250 Q 300 255 280 250 Q 270 230 270 210 Z" class="superficie-oclusal"/>
            <path d="M 278 200 Q 285 195 293 200 Q 300 195 308 200 Q 315 195 322 200" class="cuspide-anatomica"/>
            <path d="M 278 220 Q 285 215 293 220 Q 300 215 308 220 Q 315 215 322 220" class="cuspide-anatomica"/>
            <path d="M 278 240 Q 285 235 293 240 Q 300 235 308 240 Q 315 235 322 240" class="cuspide-anatomica"/>
            <line x1="285" y1="195" x2="285" y2="245" class="fisura-oclusal"/>
            <line x1="300" y1="195" x2="300" y2="245" class="fisura-oclusal"/>
            <line x1="315" y1="195" x2="315" y2="245" class="fisura-oclusal"/>
            <text x="300" y="225" class="numero-fdi">17</text>
        </g>
        
        <!-- Diente 16 - Primer Molar Superior (Molar grande) -->
        <g class="diente-correcto molar" id="diente-16">
            <path d="M 340 200 Q 350 180 370 180 Q 390 180 400 200 Q 400 220 390 240 Q 370 245 350 240 Q 340 220 340 200 Z" class="superficie-oclusal"/>
            <path d="M 348 190 Q 355 185 363 190 Q 370 185 378 190 Q 385 185 392 190" class="cuspide-anatomica"/>
            <path d="M 348 210 Q 355 205 363 210 Q 370 205 378 210 Q 385 205 392 210" class="cuspide-anatomica"/>
            <path d="M 348 230 Q 355 225 363 230 Q 370 225 378 230 Q 385 225 392 230" class="cuspide-anatomica"/>
            <line x1="355" y1="185" x2="355" y2="235" class="fisura-oclusal"/>
            <line x1="370" y1="185" x2="370" y2="235" class="fisura-oclusal"/>
            <line x1="385" y1="185" x2="385" y2="235" class="fisura-oclusal"/>
            <text x="370" y="215" class="numero-fdi">16</text>
        </g>
        
        <!-- Diente 15 - Segundo Premolar Superior (Premolar ovalado mediano) -->
        <g class="diente-correcto premolar" id="diente-15">
            <ellipse cx="425" cy="195" rx="18" ry="14" class="superficie-oclusal"/>
            <path d="M 412 185 Q 425 180 438 185" class="cuspide-anatomica"/>
            <path d="M 412 205 Q 425 210 438 205" class="cuspide-anatomica"/>
            <line x1="425" y1="182" x2="425" y2="208" class="fisura-oclusal"/>
            <text x="425" y="195" class="numero-fdi">15</text>
        </g>
        
        <!-- Diente 14 - Primer Premolar Superior (Premolar ovalado mediano) -->
        <g class="diente-correcto premolar" id="diente-14">
            <ellipse cx="460" cy="190" rx="17" ry="13" class="superficie-oclusal"/>
            <path d="M 448 180 Q 460 175 472 180" class="cuspide-anatomica"/>
            <path d="M 448 200 Q 460 205 472 200" class="cuspide-anatomica"/>
            <line x1="460" y1="178" x2="460" y2="202" class="fisura-oclusal"/>
            <text x="460" y="190" class="numero-fdi">14</text>
        </g>
        
        <!-- Diente 13 - Canino Superior (Triangular puntiagudo) -->
        <g class="diente-correcto canino" id="diente-13">
            <path d="M 490 190 Q 505 165 520 190 Q 517 210 505 215 Q 493 210 490 190 Z" class="superficie-oclusal"/>
            <path d="M 498 185 Q 505 170 512 185" class="cuspide-anatomica"/>
            <text x="505" y="195" class="numero-fdi">13</text>
        </g>
        
        <!-- Diente 12 - Incisivo Lateral Superior (Peque√±o, cincelado) -->
        <g class="diente-correcto incisivo-lateral" id="diente-12">
            <rect x="535" y="185" width="16" height="12" rx="2" class="superficie-oclusal"/>
            <line x1="538" y1="191" x2="548" y2="191" class="fisura-oclusal"/>
            <text x="543" y="191" class="numero-fdi">12</text>
        </g>
        
        <!-- Diente 11 - Incisivo Central Superior (Mediano, cincelado) -->
        <g class="diente-correcto incisivo-central" id="diente-11">
            <rect x="565" y="182" width="18" height="14" rx="2" class="superficie-oclusal"/>
            <line x1="568" y1="189" x2="580" y2="189" class="fisura-oclusal"/>
            <text x="574" y="189" class="numero-fdi">11</text>
        </g>
        
        <!-- CUADRANTE SUPERIOR IZQUIERDO (21-28) - Sim√©trico -->
        
        <!-- Diente 21 - Incisivo Central Superior -->
        <g class="diente-correcto incisivo-central" id="diente-21">
            <rect x="617" y="182" width="18" height="14" rx="2" class="superficie-oclusal"/>
            <line x1="620" y1="189" x2="632" y2="189" class="fisura-oclusal"/>
            <text x="626" y="189" class="numero-fdi">21</text>
        </g>
        
        <!-- Diente 22 - Incisivo Lateral Superior -->
        <g class="diente-correcto incisivo-lateral" id="diente-22">
            <rect x="649" y="185" width="16" height="12" rx="2" class="superficie-oclusal"/>
            <line x1="652" y1="191" x2="662" y2="191" class="fisura-oclusal"/>
            <text x="657" y="191" class="numero-fdi">22</text>
        </g>
        
        <!-- Diente 23 - Canino Superior -->
        <g class="diente-correcto canino" id="diente-23">
            <path d="M 680 190 Q 695 165 710 190 Q 707 210 695 215 Q 683 210 680 190 Z" class="superficie-oclusal"/>
            <path d="M 688 185 Q 695 170 702 185" class="cuspide-anatomica"/>
            <text x="695" y="195" class="numero-fdi">23</text>
        </g>
        
        <!-- Diente 24 - Primer Premolar Superior -->
        <g class="diente-correcto premolar" id="diente-24">
            <ellipse cx="740" cy="190" rx="17" ry="13" class="superficie-oclusal"/>
            <path d="M 728 180 Q 740 175 752 180" class="cuspide-anatomica"/>
            <path d="M 728 200 Q 740 205 752 200" class="cuspide-anatomica"/>
            <line x1="740" y1="178" x2="740" y2="202" class="fisura-oclusal"/>
            <text x="740" y="190" class="numero-fdi">24</text>
        </g>
        
        <!-- Diente 25 - Segundo Premolar Superior -->
        <g class="diente-correcto premolar" id="diente-25">
            <ellipse cx="775" cy="195" rx="18" ry="14" class="superficie-oclusal"/>
            <path d="M 762 185 Q 775 180 788 185" class="cuspide-anatomica"/>
            <path d="M 762 205 Q 775 210 788 205" class="cuspide-anatomica"/>
            <line x1="775" y1="182" x2="775" y2="208" class="fisura-oclusal"/>
            <text x="775" y="195" class="numero-fdi">25</text>
        </g>
        
        <!-- Diente 26 - Primer Molar Superior -->
        <g class="diente-correcto molar" id="diente-26">
            <path d="M 800 200 Q 810 180 830 180 Q 850 180 860 200 Q 860 220 850 240 Q 830 245 810 240 Q 800 220 800 200 Z" class="superficie-oclusal"/>
            <path d="M 808 190 Q 815 185 823 190 Q 830 185 838 190 Q 845 185 852 190" class="cuspide-anatomica"/>
            <path d="M 808 210 Q 815 205 823 210 Q 830 205 838 210 Q 845 205 852 210" class="cuspide-anatomica"/>
            <path d="M 808 230 Q 815 225 823 230 Q 830 225 838 230 Q 845 225 852 230" class="cuspide-anatomica"/>
            <line x1="815" y1="185" x2="815" y2="235" class="fisura-oclusal"/>
            <line x1="830" y1="185" x2="830" y2="235" class="fisura-oclusal"/>
            <line x1="845" y1="185" x2="845" y2="235" class="fisura-oclusal"/>
            <text x="830" y="215" class="numero-fdi">26</text>
        </g>
        
        <!-- Diente 27 - Segundo Molar Superior -->
        <g class="diente-correcto molar" id="diente-27">
            <path d="M 870 210 Q 880 190 900 190 Q 920 190 930 210 Q 930 230 920 250 Q 900 255 880 250 Q 870 230 870 210 Z" class="superficie-oclusal"/>
            <path d="M 878 200 Q 885 195 893 200 Q 900 195 908 200 Q 915 195 922 200" class="cuspide-anatomica"/>
            <path d="M 878 220 Q 885 215 893 220 Q 900 215 908 220 Q 915 215 922 220" class="cuspide-anatomica"/>
            <path d="M 878 240 Q 885 235 893 240 Q 900 235 908 240 Q 915 235 922 240" class="cuspide-anatomica"/>
            <line x1="885" y1="195" x2="885" y2="245" class="fisura-oclusal"/>
            <line x1="900" y1="195" x2="900" y2="245" class="fisura-oclusal"/>
            <line x1="915" y1="195" x2="915" y2="245" class="fisura-oclusal"/>
            <text x="900" y="225" class="numero-fdi">27</text>
        </g>
        
        <!-- Diente 28 - Tercer Molar Superior -->
        <g class="diente-correcto molar" id="diente-28">
            <path d="M 940 220 Q 950 200 970 200 Q 990 200 1000 220 Q 1000 240 990 260 Q 970 265 950 260 Q 940 240 940 220 Z" class="superficie-oclusal"/>
            <path d="M 948 210 Q 955 205 963 210 Q 970 205 978 210 Q 985 205 992 210" class="cuspide-anatomica"/>
            <path d="M 948 230 Q 955 225 963 230 Q 970 225 978 230 Q 985 225 992 230" class="cuspide-anatomica"/>
            <path d="M 948 250 Q 955 245 963 250 Q 970 245 978 250 Q 985 245 992 250" class="cuspide-anatomica"/>
            <line x1="955" y1="205" x2="955" y2="255" class="fisura-oclusal"/>
            <line x1="970" y1="205" x2="970" y2="255" class="fisura-oclusal"/>
            <line x1="985" y1="205" x2="985" y2="255" class="fisura-oclusal"/>
            <text x="970" y="235" class="numero-fdi">28</text>
        </g>
        
        <!-- ==================== DIENTES INFERIORES (ARCADA M√ÅS ESTRECHA) ==================== -->
        
        <!-- CUADRANTE INFERIOR DERECHO (48-41) -->
        
        <!-- Diente 48 - Tercer Molar Inferior (Molar en arcada m√°s estrecha) -->
        <g class="diente-correcto molar" id="diente-48">
            <path d="M 240 540 Q 250 520 270 520 Q 290 520 300 540 Q 300 560 290 580 Q 270 585 250 580 Q 240 560 240 540 Z" class="superficie-oclusal"/>
            <path d="M 248 530 Q 255 525 263 530 Q 270 525 278 530 Q 285 525 292 530" class="cuspide-anatomica"/>
            <path d="M 248 550 Q 255 545 263 550 Q 270 545 278 550 Q 285 545 292 550" class="cuspide-anatomica"/>
            <path d="M 248 570 Q 255 565 263 570 Q 270 565 278 570 Q 285 565 292 570" class="cuspide-anatomica"/>
            <line x1="255" y1="525" x2="255" y2="575" class="fisura-oclusal"/>
            <line x1="270" y1="525" x2="270" y2="575" class="fisura-oclusal"/>
            <line x1="285" y1="525" x2="285" y2="575" class="fisura-oclusal"/>
            <text x="270" y="555" class="numero-fdi">48</text>
        </g>
        
        <!-- Diente 47 - Segundo Molar Inferior -->
        <g class="diente-correcto molar" id="diente-47">
            <path d="M 310 530 Q 320 510 340 510 Q 360 510 370 530 Q 370 550 360 570 Q 340 575 320 570 Q 310 550 310 530 Z" class="superficie-oclusal"/>
            <path d="M 318 520 Q 325 515 333 520 Q 340 515 348 520 Q 355 515 362 520" class="cuspide-anatomica"/>
            <path d="M 318 540 Q 325 535 333 540 Q 340 535 348 540 Q 355 535 362 540" class="cuspide-anatomica"/>
            <path d="M 318 560 Q 325 555 333 560 Q 340 555 348 560 Q 355 555 362 560" class="cuspide-anatomica"/>
            <line x1="325" y1="515" x2="325" y2="565" class="fisura-oclusal"/>
            <line x1="340" y1="515" x2="340" y2="565" class="fisura-oclusal"/>
            <line x1="355" y1="515" x2="355" y2="565" class="fisura-oclusal"/>
            <text x="340" y="545" class="numero-fdi">47</text>
        </g>
        
        <!-- Diente 46 - Primer Molar Inferior -->
        <g class="diente-correcto molar" id="diente-46">
            <path d="M 380 520 Q 390 500 410 500 Q 430 500 440 520 Q 440 540 430 560 Q 410 565 390 560 Q 380 540 380 520 Z" class="superficie-oclusal"/>
            <path d="M 388 510 Q 395 505 403 510 Q 410 505 418 510 Q 425 505 432 510" class="cuspide-anatomica"/>
            <path d="M 388 530 Q 395 525 403 530 Q 410 525 418 530 Q 425 525 432 530" class="cuspide-anatomica"/>
            <path d="M 388 550 Q 395 545 403 550 Q 410 545 418 550 Q 425 545 432 550" class="cuspide-anatomica"/>
            <line x1="395" y1="505" x2="395" y2="555" class="fisura-oclusal"/>
            <line x1="410" y1="505" x2="410" y2="555" class="fisura-oclusal"/>
            <line x1="425" y1="505" x2="425" y2="555" class="fisura-oclusal"/>
            <text x="410" y="535" class="numero-fdi">46</text>
        </g>
        
        <!-- Diente 45 - Segundo Premolar Inferior (Premolar en arcada estrecha) -->
        <g class="diente-correcto premolar" id="diente-45">
            <ellipse cx="465" cy="515" rx="16" ry="12" class="superficie-oclusal"/>
            <path d="M 454 505 Q 465 500 476 505" class="cuspide-anatomica"/>
            <path d="M 454 525 Q 465 530 476 525" class="cuspide-anatomica"/>
            <line x1="465" y1="503" x2="465" y2="527" class="fisura-oclusal"/>
            <text x="465" y="515" class="numero-fdi">45</text>
        </g>
        
        <!-- Diente 44 - Primer Premolar Inferior -->
        <g class="diente-correcto premolar" id="diente-44">
            <ellipse cx="495" cy="510" rx="15" ry="11" class="superficie-oclusal"/>
            <path d="M 485 500 Q 495 495 505 500" class="cuspide-anatomica"/>
            <path d="M 485 520 Q 495 525 505 520" class="cuspide-anatomica"/>
            <line x1="495" y1="498" x2="495" y2="522" class="fisura-oclusal"/>
            <text x="495" y="510" class="numero-fdi">44</text>
        </g>
        
        <!-- Diente 43 - Canino Inferior (Triangular en arcada estrecha) -->
        <g class="diente-correcto canino" id="diente-43">
            <path d="M 520 510 Q 530 485 540 510 Q 538 530 530 535 Q 522 530 520 510 Z" class="superficie-oclusal"/>
            <path d="M 526 505 Q 530 490 534 505" class="cuspide-anatomica"/>
            <text x="530" y="515" class="numero-fdi">43</text>
        </g>
        
        <!-- Diente 42 - Incisivo Lateral Inferior (Peque√±o cincelado) -->
        <g class="diente-correcto incisivo-lateral" id="diente-42">
            <rect x="550" y="505" width="14" height="10" rx="2" class="superficie-oclusal"/>
            <line x1="552" y1="510" x2="562" y2="510" class="fisura-oclusal"/>
            <text x="557" y="510" class="numero-fdi">42</text>
        </g>
        
        <!-- Diente 41 - Incisivo Central Inferior (Cinzelado mediano) -->
        <g class="diente-correcto incisivo-central" id="diente-41">
            <rect x="575" y="502" width="16" height="12" rx="2" class="superficie-oclusal"/>
            <line x1="577" y1="508" x2="589" y2="508" class="fisura-oclusal"/>
            <text x="583" y="508" class="numero-fdi">41</text>
        </g>
        
        <!-- CUADRANTE INFERIOR IZQUIERDO (31-38) - Sim√©trico -->
        
        <!-- Diente 31 - Incisivo Central Inferior -->
        <g class="diente-correcto incisivo-central" id="diente-31">
            <rect x="609" y="502" width="16" height="12" rx="2" class="superficie-oclusal"/>
            <line x1="611" y1="508" x2="623" y2="508" class="fisura-oclusal"/>
            <text x="617" y="508" class="numero-fdi">31</text>
        </g>
        
        <!-- Diente 32 - Incisivo Lateral Inferior -->
        <g class="diente-correcto incisivo-lateral" id="diente-32">
            <rect x="636" y="505" width="14" height="10" rx="2" class="superficie-oclusal"/>
            <line x1="638" y1="510" x2="648" y2="510" class="fisura-oclusal"/>
            <text x="643" y="510" class="numero-fdi">32</text>
        </g>
        
        <!-- Diente 33 - Canino Inferior -->
        <g class="diente-correcto canino" id="diente-33">
            <path d="M 660 510 Q 670 485 680 510 Q 678 530 670 535 Q 662 530 660 510 Z" class="superficie-oclusal"/>
            <path d="M 666 505 Q 670 490 674 505" class="cuspide-anatomica"/>
            <text x="670" y="515" class="numero-fdi">33</text>
        </g>
        
        <!-- Diente 34 - Primer Premolar Inferior -->
        <g class="diente-correcto premolar" id="diente-34">
            <ellipse cx="705" cy="510" rx="15" ry="11" class="superficie-oclusal"/>
            <path d="M 695 500 Q 705 495 715 500" class="cuspide-anatomica"/>
            <path d="M 695 520 Q 705 525 715 520" class="cuspide-anatomica"/>
            <line x1="705" y1="498" x2="705" y2="522" class="fisura-oclusal"/>
            <text x="705" y="510" class="numero-fdi">34</text>
        </g>
        
        <!-- Diente 35 - Segundo Premolar Inferior -->
        <g class="diente-correcto premolar" id="diente-35">
            <ellipse cx="735" cy="515" rx="16" ry="12" class="superficie-oclusal"/>
            <path d="M 724 505 Q 735 500 746 505" class="cuspide-anatomica"/>
            <path d="M 724 525 Q 735 530 746 525" class="cuspide-anatomica"/>
            <line x1="735" y1="503" x2="735" y2="527" class="fisura-oclusal"/>
            <text x="735" y="515" class="numero-fdi">35</text>
        </g>
        
        <!-- Diente 36 - Primer Molar Inferior -->
        <g class="diente-correcto molar" id="diente-36">
            <path d="M 760 520 Q 770 500 790 500 Q 810 500 820 520 Q 820 540 810 560 Q 790 565 770 560 Q 760 540 760 520 Z" class="superficie-oclusal"/>
            <path d="M 768 510 Q 775 505 783 510 Q 790 505 798 510 Q 805 505 812 510" class="cuspide-anatomica"/>
            <path d="M 768 530 Q 775 525 783 530 Q 790 525 798 530 Q 805 525 812 530" class="cuspide-anatomica"/>
            <path d="M 768 550 Q 775 545 783 550 Q 790 545 798 550 Q 805 545 812 550" class="cuspide-anatomica"/>
            <line x1="775" y1="505" x2="775" y2="555" class="fisura-oclusal"/>
            <line x1="790" y1="505" x2="790" y2="555" class="fisura-oclusal"/>
            <line x1="805" y1="505" x2="805" y2="555" class="fisura-oclusal"/>
            <text x="790" y="535" class="numero-fdi">36</text>
        </g>
        
        <!-- Diente 37 - Segundo Molar Inferior -->
        <g class="diente-correcto molar" id="diente-37">
            <path d="M 830 530 Q 840 510 860 510 Q 880 510 890 530 Q 890 550 880 570 Q 860 575 840 570 Q 830 550 830 530 Z" class="superficie-oclusal"/>
            <path d="M 838 520 Q 845 515 853 520 Q 860 515 868 520 Q 875 515 882 520" class="cuspide-anatomica"/>
            <path d="M 838 540 Q 845 535 853 540 Q 860 535 868 540 Q 875 535 882 540" class="cuspide-anatomica"/>
            <path d="M 838 560 Q 845 555 853 560 Q 860 555 868 560 Q 875 555 882 560" class="cuspide-anatomica"/>
            <line x1="845" y1="515" x2="845" y2="565" class="fisura-oclusal"/>
            <line x1="860" y1="515" x2="860" y2="565" class="fisura-oclusal"/>
            <line x1="875" y1="515" x2="875" y2="565" class="fisura-oclusal"/>
            <text x="860" y="545" class="numero-fdi">37</text>
        </g>
        
        <!-- Diente 38 - Tercer Molar Inferior -->
        <g class="diente-correcto molar" id="diente-38">
            <path d="M 900 540 Q 910 520 930 520 Q 950 520 960 540 Q 960 560 950 580 Q 930 585 910 580 Q 900 560 900 540 Z" class="superficie-oclusal"/>
            <path d="M 908 530 Q 915 525 923 530 Q 930 525 938 530 Q 945 525 952 530" class="cuspide-anatomica"/>
            <path d="M 908 550 Q 915 545 923 550 Q 930 545 938 550 Q 945 545 952 550" class="cuspide-anatomica"/>
            <path d="M 908 570 Q 915 565 923 570 Q 930 565 938 570 Q 945 565 952 570" class="cuspide-anatomica"/>
            <line x1="915" y1="525" x2="915" y2="575" class="fisura-oclusal"/>
            <line x1="930" y1="525" x2="930" y2="575" class="fisura-oclusal"/>
            <line x1="945" y1="525" x2="945" y2="575" class="fisura-oclusal"/>
            <text x="930" y="555" class="numero-fdi">38</text>
        </g>
        
    </svg>
</div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variables globales
        let dienteSeleccionado = null;
        let diagnosticoActivo = null;
        let logContainer = null;

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            logContainer = document.getElementById('log-actividad');
            inicializarOdontograma();
            configurarEventos();
            log('üéØ Sistema de prueba iniciado correctamente');
        });

        // Funci√≥n de logging
        function log(mensaje) {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `<span style="color: #ffff00;">[${timestamp}]</span> ${mensaje}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
            console.log(`[ODONTOGRAMA PRUEBA] ${mensaje}`);
        }

        // Inicializar odontograma
        function inicializarOdontograma() {
            const template = document.getElementById('odontograma-anatomico-correcto-template');
            const container = document.getElementById('odontograma-container');
            
            if (template && container) {
                container.innerHTML = template.innerHTML;
                configurarEventosOdontograma();
                log('ü¶∑ Odontograma anat√≥mico correcto cargado');
            }
        }

        // Configurar eventos del odontograma
        function configurarEventosOdontograma() {
            const dientes = document.querySelectorAll('.diente-correcto');
            log(`üîß Configurando ${dientes.length} dientes con morfolog√≠a realista`);
            
            dientes.forEach(function(diente, index) {
                const dienteId = diente.id;
                const numeroFDI = dienteId.replace('diente-', '');
                const cuadrante = Math.floor(numeroFDI / 10);
                const posicion = numeroFDI % 10;
                
                // Determinar tipo y morfolog√≠a dental
                let tipoDiente = '';
                let morfologia = '';
                let caracteristicas = [];
                
                if (posicion === 1) {
                    tipoDiente = 'Incisivo Central';
                    morfologia = 'Cincelado aplanado mediano';
                    caracteristicas = ['Borde incisal recto', 'Corona trapezoidal', 'Ra√≠z c√≥nica √∫nica'];
                } else if (posicion === 2) {
                    tipoDiente = 'Incisivo Lateral';
                    morfologia = 'Cincelado aplanado peque√±o';
                    caracteristicas = ['M√°s peque√±o que central', 'Borde incisal redondeado', 'Corona triangular'];
                } else if (posicion === 3) {
                    tipoDiente = 'Canino';
                    morfologia = 'Triangular puntiagudo';
                    caracteristicas = ['C√∫spide pronunciada', 'Ra√≠z m√°s larga', 'Corona triangular'];
                } else if (posicion === 4 || posicion === 5) {
                    tipoDiente = posicion === 4 ? 'Primer Premolar' : 'Segundo Premolar';
                    morfologia = 'Ovalado con c√∫spides, tama√±o mediano';
                    caracteristicas = ['Dos c√∫spides', 'Superficie oclusal ovalada', 'Una o dos ra√≠ces'];
                } else if (posicion === 6 || posicion === 7 || posicion === 8) {
                    tipoDiente = posicion === 6 ? 'Primer Molar' : posicion === 7 ? 'Segundo Molar' : 'Tercer Molar';
                    morfologia = 'Cuadrado/redondeado, mayor volumen';
                    caracteristicas = ['M√∫ltiples c√∫spides', 'Superficie oclusal amplia', 'M√∫ltiples ra√≠ces'];
                }
                
                diente.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Actualizar diente seleccionado
                    dienteSeleccionado = {
                        numeroFDI: numeroFDI,
                        cuadrante: cuadrante,
                        posicion: posicion,
                        tipoDiente: tipoDiente,
                        morfologia: morfologia,
                        caracteristicas: caracteristicas,
                        elemento: diente
                    };
                    
                    // Remover selecci√≥n anterior
                    document.querySelectorAll('.diente-correcto').forEach(d => {
                        d.classList.remove('selected');
                    });
                    
                    // Seleccionar diente actual
                    diente.classList.add('selected');
                    
                    // Actualizar informaci√≥n
                    mostrarInformacionDiente();
                    
                    // Aplicar diagn√≥stico si hay uno activo
                    if (diagnosticoActivo) {
                        aplicarDiagnostico(numeroFDI, diagnosticoActivo);
                    }
                    
                    log(`ü¶∑ Diente seleccionado: FDI ${numeroFDI} (${tipoDiente}) - ${morfologia}`);
                });
                
                diente.addEventListener('mouseenter', function() {
                    log(`üëÜ Hover: Diente FDI ${numeroFDI} (${tipoDiente})`);
                });
            });
        }

        // Mostrar informaci√≥n del diente seleccionado
        function mostrarInformacionDiente() {
            if (!dienteSeleccionado) return;
            
            const panel = document.getElementById('info-diente-panel');
            const elementos = {
                'info-numero-fdi': dienteSeleccionado.numeroFDI,
                'info-cuadrante': `Cuadrante ${dienteSeleccionado.cuadrante}`,
                'info-posicion': `Posici√≥n ${dienteSeleccionado.posicion}`,
                'info-tipo-diente': dienteSeleccionado.tipoDiente,
                'info-morfologia': dienteSeleccionado.morfologia
            };
            
            // Actualizar informaci√≥n b√°sica
            Object.entries(elementos).forEach(([id, valor]) => {
                const elemento = document.getElementById(id);
                if (elemento) {
                    elemento.textContent = valor;
                }
            });
            
            // Actualizar caracter√≠sticas anat√≥micas
            const badgesContainer = document.getElementById('caracteristicas-badges');
            if (badgesContainer) {
                badgesContainer.innerHTML = '';
                dienteSeleccionado.caracteristicas.forEach(caracteristica => {
                    const badge = document.createElement('span');
                    badge.className = 'badge-anatomico';
                    badge.textContent = caracteristica;
                    badgesContainer.appendChild(badge);
                });
            }
            
            panel.style.display = 'block';
        }

        // Configurar eventos de la interfaz
        function configurarEventos() {
            // Botones de diagn√≥stico
            document.querySelectorAll('.btn-diagnostico').forEach(btn => {
                if (!btn.id) { // No el bot√≥n de limpiar
                    btn.addEventListener('click', function() {
                        diagnosticoActivo = this.dataset.diagnostico;
                        
                        // Actualizar estado visual de botones
                        document.querySelectorAll('.btn-diagnostico').forEach(b => {
                            b.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        log(`üéØ Diagn√≥stico seleccionado: ${diagnosticoActivo}`);
                        
                        // Aplicar a diente seleccionado si existe
                        if (dienteSeleccionado) {
                            aplicarDiagnostico(dienteSeleccionado.numeroFDI, diagnosticoActivo);
                        }
                    });
                }
            });
            
            // Bot√≥n limpiar
            document.getElementById('btn-limpiar').addEventListener('click', function() {
                limpiarTodo();
                log('üßπ Limpieza completa realizada');
            });
        }

        // Aplicar diagn√≥stico
        function aplicarDiagnostico(numeroFDI, diagnostico) {
            const diente = document.getElementById(`diente-${numeroFDI}`);
            if (diente) {
                // Remover diagn√≥sticos anteriores
                diente.classList.remove('sano', 'caries', 'obturada', 'corona', 'extraida', 'implante', 'endodoncia');
                
                // Aplicar nuevo diagn√≥stico
                if (diagnostico) {
                    diente.classList.add(diagnostico);
                    log(`‚úÖ Diagn√≥stico aplicado: Diente ${numeroFDI} - ${diagnostico}`);
                }
            }
        }

        // Limpiar todo
        function limpiarTodo() {
            document.querySelectorAll('.diente-correcto').forEach(diente => {
                diente.classList.remove('selected', 'sano', 'caries', 'obturada', 'corona', 'extraida', 'implante', 'endodoncia');
            });
            
            document.querySelectorAll('.btn-diagnostico').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById('info-diente-panel').style.display = 'none';
            
            dienteSeleccionado = null;
            diagnosticoActivo = null;
        }

        // Funciones globales para compatibilidad
        window.aplicarDiagnosticoCorrect = aplicarDiagnostico;
        window.limpiarSeleccionCorrect = limpiarTodo;

        // Script del odontograma integrado
        (function() {
            'use strict';
            
            function logOdontograma(mensaje) {
                console.log(`[ODONTOGRAMA ANAT√ìMICO CORRECTO] ${mensaje}`);
            }
            
            // El resto de la funcionalidad ya est√° integrada en las funciones principales
            logOdontograma('Sistema anat√≥mico correcto integrado con p√°gina de prueba');
        })();
    </script>
</body>
</html>